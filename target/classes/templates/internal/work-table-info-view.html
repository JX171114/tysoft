<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--
* @Copyright(c): 厦门路桥信息股份有限公司  版权所有
* @author :XMRBI
* @Description:工作用表详情
* @createDate:2018-11-06
-->
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
	<title>工作用表详情</title>
	<link rel="stylesheet" th:href="@{/static/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/ionicons.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/common.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/select2/select2.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/bootstrap-treeview/bootstrap-treeview.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/bootstrap-toggle/bootstrap-toggle.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/bootstrap-validator/css/bootstrapValidator.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/AdminLTE.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/skins/_all-skins.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/ionicons.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/jvectormap/jquery-jvectormap-1.2.2.css}"/>
    <!-- Theme style -->
	<link rel="stylesheet" th:href="@{/static/dist/css/AdminLTE.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/dist/css/skins/_all-skins.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/css/common.css}"/>
	<!-- Bootstrap 3.3.7 -->
	<link rel="stylesheet" th:href="@{/static/bootstrap/css/bootstrap.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/plugins/bootstrap-table/dist/bootstrap-table.min.css}"/>
	<link th:href="@{/static/plugins/bootstrap-fileinput/css/fileinput.css}" media="all" rel="stylesheet" type="text/css"/>
	<link th:href="@{/static/plugins/bootstrap-fileinput/themes/explorer-fa/theme.css}" media="all" rel="stylesheet" type="text/css"/>
	<!-- bootstrap datepicker -->
  	<link rel="stylesheet" th:href="@{/static/plugins/datepicker/datepicker3.css}"/>
	<style type="text/css">
	.panel {
	  margin-bottom: 0px;
	}
	.form-group {
	  margin-bottom: 2px;
	}
	
	</style>
	<style type="text/css">
        html, body {
            overflow-x: hidden;
        }
        body {
            padding-top: 5px;
        }
        .box.box-solid.box-default>.box-header {
        	background-color: #F2F2F2;
        	padding: 3px 10px;
        }
        .btn-link:HOVER {
			text-decoration: none;
		}
		.modal-header{
			background-color:#F4F6F8;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
		}
		.container-fluid{
			padding-right: 10px;
			padding-left: 10px;
		}
		#head_div{
			margin: 10px auto 5px;
			border-color: #F2F2F2;
			width: 1200px; 
		}
		.box-header>.btn-lg{
			padding: 5px 8px;
		}
		#content_div{
			width: 1200px;
			border: 1px solid #F2F2F2;
			margin: 1px auto;
		}
		h2{
			text-align: center;
			margin: 10px 0px 25px;
		}
		#content_table{
			margin: 10px auto;
			/* min-height: 500px; */
			border: 1px silver solid;
			width: 1170px;
		}
		#content_table>td{padding-bottom: 15px;}
		#info_table{
			width: 1100px;
		}
		#info_table>tbody>tr>td{
			border: 1px solid #C9C9C9;
			min-height: 32px;
			padding: 3px;
			font-size: 14px;
		}
		.item_title{
			text-align: center;
			vertical-align: middle;
			background-color: #E4E4E4;
			width: 205px;
		}
		.right_td{
			width: 345px;
		}
		a{
			color: #000;
			text-decoration: underline;
			margin-right: 8px;
		}
          
    </style>
</head>
<body style="text-align: center;">
    
	<div class="container-fluid" style="width:100%; height: 100%" >
		<div id="head_div" class="box box-default collapsed-box box-solid">
		    <div class="box-header with-border" style="padding: 3px 8px;text-align: left;">
	            <a class='btn btn-lg btn-link' id="btn_print" style="color: blue;" onclick="fnPrint();">打印</a>
	            <a class='btn btn-lg btn-link' id="btn_close" style="color: red;" onclick="fnCloseWin();">关闭</a>
	        </div>
        </div>
        <div id="content_div">
        	<table id="content_table">
        		<tr>
        			<td valign="top" align="center">
        			<!-- 打印的区域 -->
					<div id="print_div" align="center">
			        	<h2>厦门轨道交通集团有限公司内控工作用表变更单</h2>
			        	<input id="id" th:value="${tableInfo.id}" type="hidden" />
			        	<input id="annexIds" th:value="${tableInfo.annexIds}" type="hidden" />
			        	<input id="version" th:value="${tableInfo.version}" type="hidden" />
			        	<input id="versionNo" th:value="${tableInfo.versionNo}" type="hidden" />
			        	<input id="status" th:value="${tableInfo.status}" type="hidden" />
			        	<input id="directory.id" th:value="${tableInfo.directory != null} ? ${tableInfo.directory.id} : ${''}" type="hidden" />
			        	
			        	<table id="info_table" class="table" style="border: 1px solid #C9C9C9;">
			        		<tr>
			        			<td class="item_title">表单名称<span style="color: red;">*</span></td>
			        			<td colspan="3"><span th:text="${tableInfo.name}"></span></td>
			        		</tr>
			        		<tr>
			        			<td class="item_title">适用范围</td>
			        			<td colspan="3"><span th:text="${tableInfo.applicationScope}"></span></td>
			        		</tr>
			        		<tr>
			        			<td class="item_title">表单编号<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.serialNum}"></span></td>
			        			<td class="item_title">主责部门<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.responsibilityDept != null} ? ${tableInfo.responsibilityDept.name} : ${null}"></span></td>
			        		</tr>
			        		<tr>
			        			<td class="item_title">维护责任人<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.maintainer != null} ? ${tableInfo.maintainer.name} : ${null}"></span></td>
			        			<td class="item_title">流程负责人<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.processLeader != null} ? ${tableInfo.processLeader.name} : ${null}"></span></td>
			        		</tr>
			        		<tr>
			        			<td class="item_title">申请人<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.proposer}"></span></td>
			        			<td class="item_title">申请部门<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.applicationDept}"></span></td>
			        		</tr>
			        		<tr>
			        			<td class="item_title">申请时间<span style="color: red;">*</span></td>
			        			<td class="right_td">
			        				<span th:text="${#calendars.format(tableInfo.applicationTime,'yyyy-MM-dd')}"></span>
			        			</td>
			        			<td class="item_title">关联制度<span style="color: red;">*</span></td>
			        			<td class="right_td"><span th:text="${tableInfo.associateSystem}"></span></td>
			        		</tr>
			        		<tr>
			        			<td class="item_title" style="vertical-align: middle;">工作使用表单</td>
			        			<td colspan="3">
			        				<p th:each="annex : ${annexs}" style="margin-bottom: 3px;">
				        				<a href="javascript:" th:text="${annex.name}+${'.'}+${annex.extendName}" title="点击下载" th:onclick="'openCommonViewImgWin(\''+${annex.id}+'\')'" ></a>
			        				</p>
			        			</td>
			        		</tr>
			        	</table>
			        	</div>
        			</td>
        		</tr>
        	</table>
        </div>
	</div>
	
</body>
<!-- jQuery 2.2.3 -->
<script th:src="@{/static/plugins/jQuery/jquery-2.2.3.min.js}"></script>
<!-- Bootstrap 3.3.7 -->
<script th:src="@{/static/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/static/js/common.js}"></script>
<script th:src="@{/static/plugins/bootstrap-validator/js/bootstrapValidator.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap-table/dist/bootstrap-table.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.min.js}"></script>
<script th:src="@{/static/plugins/jQuery/jquery.serializejson.min.js}"></script>
<script th:src="@{/static/plugins/datepicker/bootstrap-datepicker.js}"></script>
<script th:src="@{/static/plugins/datepicker/locales/bootstrap-datepicker.zh-CN.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-toggle/bootstrap-toggle.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap-table/dist/extensions/export/bootstrap-table-export.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-treeview/bootstrap-treeview.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-contextmenu/bootstrap-contextmenu.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-contextmenu/prettify.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/attention/zDialog/zDrag.js}"></script>
<!-- Slimscroll -->
<script type="text/javascript" th:src="@{/static/plugins/slimScroll/jquery.slimscroll.min.js}"></script>
<script type="text/javascript" th:src="@{/static/dist/js/app.min.js}"></script>
<script type="text/javascript" th:src="@{/static/js/common.js}"></script>
<script type="text/javascript" th:src="@{/static/js/myModalDialogBR.js}"></script>
<!-- bootstrap fileinput js -->
<script th:src="@{/static/plugins/bootstrap-fileinput/js/plugins/sortable.min.js}" type="text/javascript"></script>
<script th:src="@{/static/plugins/bootstrap-fileinput/js/plugins/purify.min.js}" type="text/javascript"></script>
<script th:src="@{/static/plugins/bootstrap-fileinput/js/fileinput.min.js}" type="text/javascript"></script>
<script th:src="@{/static/plugins/bootstrap-fileinput/js/locales/fr.js}" type="text/javascript"></script>
<script th:src="@{/static/plugins/bootstrap-fileinput/js/locales/zh.js}" type="text/javascript"></script>
<script th:src="@{/static/plugins/bootstrap-fileinput/themes/explorer-fa/theme.js}" type="text/javascript"></script>
<script th:src="@{/static/plugins/bootstrap-fileinput/themes/fa/theme.js}" type="text/javascript"></script>
<script th:inline="javascript" type="text/javascript">
/*<![CDATA[*/
	var STATIC = [[@{/static/}]];
	var CTX = [[@{/}]];
	
	$(function () {
		
	});
	
	//打印
	function fnPrint(){
		console.log("打印");
		var p_html = $("#print_div").html();
		//var p_html = $("#content_div").html();
		var newWin = window.open('', '_blank', ''); //在当前页打开新的窗口
		var tbStyle = 'h2 {text-align: center; margin: 10px 0px 25px; }'
						+ '#content_table>td{padding-bottom: 15px;}'
						+ '#info_table{ width: 1100px; }'
						+ '#info_table>tbody>tr>td{ border: 1px solid #C9C9C9; min-height: 32px; padding: 0px; margin:0px; font-size: 14px; }'
						+ 'table {border-collapse: collapse; padding:2px; border-spacing: 0;}'
						+ '.item_title{ text-align: center; vertical-align: middle; background-color: #E4E4E4; width: 205px; }'
						+ '.right_td{ width: 345px; }'
						+ 'p{ margin: 3px;}'
						+ 'a{ color: #000; text-decoration: underline; margin-right: 8px; }';
		newWin.document.write("<head><style>#print-content{font-size:14px}"+tbStyle+"</style></head>"); //向新窗口添加css样式
		newWin.document.write(p_html);
		newWin.print();
		var userAgent = navigator.userAgent;
		if (userAgent.indexOf("Chrome") != -1) {
			newWin.close();
		} else {
			if (tata = newWin.document.execCommand("print")) {
				newWin.close();
			}
		}
		//newWin.location.reload(); //重新加载使窗口恢复到打印前状态
	}
	
	//关闭
	function fnCloseWin(){
		window.close();
	}
	
	//初始化按钮
	var ButtonInit = function () {
	    var oInit = new Object();
	    var postdata = {};

	    oInit.Init = function () {
	        //初始化页面上面的按钮事件
	    };

	    return oInit;
	};
		
	/*]]>*/
</script>
<script type="text/javascript" th:src="@{/static/modules/internal/internal-file-upload.js}"></script>	
</html>
