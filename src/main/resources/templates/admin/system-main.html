<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
	<title>系统维护</title>
	<link rel="stylesheet" th:href="@{/static/bootstrap/css/bootstrap.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/dist/css/font-awesome.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/dist/css/ionicons.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/plugins/jvectormap/jquery-jvectormap-1.2.2.css}"/>
	<!-- tabs -->
	<link rel="stylesheet" th:href="@{/static/dist/css/bootstrap-addtabs.css}"/>
	<!-- Theme style -->
	<link rel="stylesheet" th:href="@{/static/dist/css/AdminLTE.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/dist/css/skins/_all-skins.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/css/common.css}"/>
	<link rel="stylesheet" th:href="@{/static/plugins/bootstrap-toggle/bootstrap-toggle.min.css}"/>
	<style type="text/css">
		html,body{min-height:100%;}
		.nav-tabs-custom>.nav-tabs>li.active>a, .nav-tabs-custom>.nav-tabs>li.active:hover>a{background-color: #ecf0f5;}
	    .nav-tabs-custom>.tab-content{padding:0;}
	    .nav-tabs-custom>.nav-tabs>li.active>a, .nav-tabs-custom>.nav-tabs>li.active:hover>a{padding-bottom:8px;}
	    .nav-tabs-custom>.nav-tabs{
	    	/* box-shadow: 0px 1px 10px 0px #949494; */
	    	background-color: #fdfdfd;
	    }
	    .close-tab{right: 2px;top: 0;}
	    .nav-tabs-custom>.nav-tabs>li{
	    	border-top:0;
	    	margin-bottom: -2px;
    		margin-right: 5px;
	    }
	    .sidebar-toggle{
	    	position: absolute;
	    	top:0;
	    	left:0;
	    	height:41px;
	    	width:20px;
	    	background-color: #fdfdfd;
    		line-height: 41px;
   		    border-bottom: 1px solid #f4f4f4;
	    }
	    .main-nodata{
	    	display: -webkit-flex;
		    display: flex;
		    -webkit-justify-content:center;
		    justify-content:center;
		    align-items:center;
		    -webkit-align-items: center;
	        position: absolute;
	        text-align:center;
		    width: 100%;
		    height: 100%;
		    z-index:-1;
	    }
	    .main-nodata h5{
	    	position:absolute;
	    	top:229px;
	    	left:0;
	    	right:0;
	    	text-align: center;
	    	color:#777;
	    	font-size:18px;
	    }
	</style>
</head>
<body class="hold-transition skin-blue" style="overflow: hidden;">
<div class="wrapper">
	<aside class="main-sidebar" style="padding-top:0;">
    <section class="sidebar">
    	<ul id="menuTree" class="sidebar-menu"></ul>
    </section>
  </aside>
  <div class="content-wrapper" style="position: relative;background: #fff;">
  	<div class="main-nodata">
  		<div style="position: relative;">
  			<img th:src="@{/static/images/main-nodata.png}"/>
  			<h5>欢迎进入地铁战略发展管理信息系统</h5>
  		</div>
  	</div>
	<!-- tabs start-->
   	<div id="tabs" class="nav-tabs-custom" style="height:100%;">
   		<a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        	<span class="fa fa-fw fa-navicon"></span>
      	</a>    
    	<ul class="nav nav-tabs" role="tablist" style="margin-left:20px;height:41px;">
    	</ul>
		<!-- Tab panes -->
        <div class="tab-content">
        </div>
   	</div>
   	<!-- tabs end-->
  </div>
</div>
</body>
<script type="text/javascript" th:src="@{/static/plugins/jQuery/jquery-2.2.3.min.js}"></script>
<script type="text/javascript" th:src="@{/static/bootstrap/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/static/js/myTreeView.js}"></script>
<script type="text/javascript" th:src="@{/static/js/common.js}"></script>
<!-- tabs -->
<script type="text/javascript" th:src="@{/static/dist/js/bootstrap-addtabs.js}"></script>
<script type="text/javascript" th:src="@{/static/dist/js/app.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-toggle/bootstrap-toggle.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-validator/js/bootstrapValidator.min.js}"></script>
<script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
	var CTX = [[@{/}]];
	var STATIC = [[@{/static/}]];
	$(function(){
		//tab初始化
		$('#tabs').addtabs({monitor:'.topbar'});
		//初始化菜单树
		initMenuTree();
	});
	
	function initMenuTree(){
		var r = Math.random().toString().substring(5);
		$.getJSON(CTX+'admin-manage/query-menus',{parentAuthId:[[${parentAuthId}]],Mathnum:r},function(json){
			var menuTree = new MyTreeview({
				id:'menuTree',
				title:'功能菜单',
				data:json,
				nodeClick:function(node){
					var url = node.url;
					if(url.substring(0,url.indexOf(':'))=='frame'){
						if(url.substring(url.indexOf(':')+1)!=''){
							Addtabs.add({
					            id: node.id,
					            icon: node.icon,
					            title: node.name,
					            close: true,
					            url: CTX+url.substring(url.indexOf(':')+1)
				         	});
						}
					}
					if(url.substring(0,url.indexOf(':'))=='window'){
						if(url.substring(url.indexOf(':')+1)!=''){
							$('#common_frame_win').modal('toggle');
							$('#common_frame_win iframe').attr('src',CTX+url.substring(url.indexOf(':')+1));
						}
					}
				}
			});
		});
	}
/*]]>*/		
</script>
</html>