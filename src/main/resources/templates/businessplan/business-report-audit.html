<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--
* @Copyright(c): 厦门路桥信息股份有限公司  版权所有
* @author :XMRBI
* @Description:经营快报审核
* @createDate:2018-7-27
-->
<head>
	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
	<title>经营快报审核</title>
	<link rel="stylesheet" th:href="@{/static/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/ionicons.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/common.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/select2/select2.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/bootstrap-treeview/bootstrap-treeview.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/bootstrap-toggle/bootstrap-toggle.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/bootstrap-validator/css/bootstrapValidator.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/AdminLTE.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/skins/_all-skins.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/dist/css/ionicons.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/plugins/jvectormap/jquery-jvectormap-1.2.2.css}"/>
    <!-- Theme style -->
	<link rel="stylesheet" th:href="@{/static/dist/css/AdminLTE.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/dist/css/skins/_all-skins.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/css/common.css}"/>
	<!-- Bootstrap 3.3.7 -->
	<link rel="stylesheet" th:href="@{/static/bootstrap/css/bootstrap.min.css}"/>
	<link rel="stylesheet" th:href="@{/static/plugins/bootstrap-table/dist/bootstrap-table.min.css}"/>
	<style type="text/css">
	.panel {
	  margin-bottom: 0px;
	}
	.form-group {
	  margin-bottom: 2px;
	}
	
	</style>
	<style type="text/css">
        html, body {
            overflow-x: hidden;
        }

        body {
            padding-top: 5px;
        }
        
        .box.box-solid.box-default>.box-header {
        	background-color: #DEF2FF;
        }
        
        .col-sm-10 span {
            word-break: break-all;
            word-wrap: break-word;
            white-space: normal;
            display: block;
            float: left;
            height: 34px;
            padding: 6px 12px 6px 0px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #777;
        }
        
		#compList>thead>tr>th{text-align: center;vertical-align: middle !important;}
		#compList>tbody>tr>td{vertical-align: middle !important;}
		
		#annexList>thead>tr>th{text-align: center;vertical-align: middle !important;vertical-align: middle !important;}
		#annexList>tbody>tr>td{text-align: center;vertical-align: middle !important;vertical-align: middle !important;}
		
		#btn_upload,#btn_delete{
			padding: 3px 6px;
			font-size: 12px;
		}
		
		input{
			text-align: center;
		}
		
		.table>tbody>tr>td{
			padding: 3px;
		}
		
		table,table tr th, table tr td { border:1px solid #000; }
        table {border-collapse: collapse; padding:2px;}
          
    </style>
</head>
<body>
<div class="container-fluid" style="width:100%; height: 100%" >
	<input id="CTX" th:value="${CTX}" hidden="hidden" />
	<input id="autoClose" th:value="${autoClose}" hidden="hidden" />
	<input id="readonly" th:value="${readonly}" hidden="hidden" />
	<input id="opt" th:value="${'audit'}" hidden="hidden" />
	<input id="year" th:value="${year}" hidden="hidden" />
	<input id="noFinanceComps" th:value="${noFinanceComps}" hidden="hidden" />
	<input id="financeComps" th:value="${financeComps}" hidden="hidden" />
	<input id="contractAudit" th:value="${contractAudit}" hidden="hidden" />
	<input id="financeAudit" th:value="${financeAudit}" hidden="hidden" />
	<input id="generalAssert" th:value="${generalAssert}" hidden="hidden" />
	<input hidden="hidden" id="indicatorType" name="indicatorType" th:value="${indicatorType}" />
	<div class="row">
		<div class="col-md-12">
			<ul id="myTab" class="nav nav-tabs">
				<li class="active">
					<a href="#basicInfo" data-toggle="tab">基本信息</a>
				</li>
				<li>
					<a href="#annexs" data-toggle="tab"><span style="color:red;">*</span>附件</a>
				</li>
			</ul>
		</div>
	</div>
	
	<div id="myTabContent" class="tab-content">
		<div class="tab-pane fade in active" id="basicInfo">
		    <form id="myform_report" class="form-horizontal">
		    	<input hidden="hidden" name="id" th:value="${report.id}" />
		    	<input hidden="hidden" name="contractAudit" th:value="${report.contractAudit}" />
		    	<input hidden="hidden" name="financeAudit" th:value="${report.financeAudit}" />
		    	<input hidden="hidden" name="annexIds" th:value="${report.annexIds}" />
			</form>
		    
			<!-- 打印的区域 -->
			<div id="print_div" align="center">
			<h3 align="center" th:text="${report.reportTitle}" style="margin: 10px 0px;"></h3>
				   		
		    <table id="compList" class="table table-bordered" style="width: 1200px;">
			   	<thead>
			   		<tr align="center" th:if="${!#strings.isEmpty(noFinanceComps)}">
			   			<th>经营指标</th>
			   			<th>单位</th>
			   			<th th:text="${year-1} + ${'年同期累计'}"></th>
			   			<th th:text="${year} + ${'年计划'}"></th>
			   			<th>本月发生</th>
			   			<th>本月止年累</th>
			   			<th>计划完成率</th>
			   		</tr>
			   		<tr align="center" th:if="${!#strings.isEmpty(financeComps) and #strings.isEmpty(noFinanceComps)}">
			   			<th></th>
			   			<th align="center">单位</th>
			   			<th colspan="2" align="center">期初余额</th>
			   			<th align="center">本期收入</th>
			   			<th align="center">本期支出</th>
			   			<th align="center">期末余额</th>
			   		</tr>
			   	</thead>
			   	<tbody id="compList_body">
			   	</tbody>
			 </table>
			 </div>
			   
			 <div style="text-align: center;margin-bottom: 10px;">
				 <button type="button" th:if="${#strings.isEmpty(readonly)}" onclick="fnSubmitReport()" class="btn btn-primary" style="margin-right: 25px;width: 80px;">提交</button> 
				 <button th:if="${!#strings.isEmpty(readonly)}" type="button" onclick="fnCloseWin(true,false)" class="btn btn-primary" style="margin-right: 25px;width: 80px;">关闭</button> 
				 <button type="button" onclick="fnPrint()" class="btn btn-primary" style="margin-right: 25px;width: 80px;">打印</button>
				 <button type="button" onclick="fnExport()" class="btn btn-primary" style="width: 80px;">导出</button> 
			</div>
		</div>
		
		<div class="tab-pane fade" id="annexs">
			<div class="box box-default collapsed-box box-solid" style="margin: 5px 0px;border-color: #DEF2FF;">
                <div class="box-header with-border" style="padding: 8px;">
                    <span style="font-weight: bold;font-size: 14px;">附件列表</span>
                    <form id="formAnnex" class="form-horizontal">

                    </form>
                </div>
            </div>
            
            <div align="center">
	            <div id="btn_div" class="" style="margin-bottom: 5px;width: 1200px;" align="left">
				     <button id="btn_upload" th:if="${#strings.isEmpty(readonly)}" type="button" class="btn btn-primary" th:onclick="'fnUploadAnnex('+${anndexFolder.id}+',\''+${anndexFolder.folderName}+'\')'">
				        <span class="glyphicon glyphicon-upload" aria-hidden="true" style="color: #18A689"></span>上传附件
				     </button>
				</div>
			</div>
			
			<div align="center">
				<table id="annexList" class="table table-bordered" style="width: 1200px;">
				   	<thead>
				   		<tr align="center">
				   			<th>序号</th>
				   			<th>附件名称</th>
				   			<th>创建人</th>
				   			<th>创建时间</th>
				   			<th>操作</th>
				   		</tr>
				   	</thead>
				   	<tbody id="annexList_body">
				   		<tr th:if="${#lists.isEmpty(annexs)}" height="32px;">
							<td colspan="5" align="center">无</td>
						</tr>
						<tr th:each="annex,annexStat : ${annexs}">
							<td align="center">
								<input hidden="hidden" name="fieldIds" th:value="${annex.id}"/>
								<span th:text="${annexStat.index+1}"></span>
							</td>
							<td align="center">
								<a href="javascript:" th:onclick="'openCommonViewImgWin(\''+${annex.id}+'\')'" th:text="${annex.name}+${'.'}+${annex.extendName}"></a>
							</td>
							<td th:text="${annex.creator}" align="center"></td>
							<td th:text="${annex.uploadTime}?${#dates.format(annex.uploadTime, 'yyyy-MM-dd')}:''" align="center"></td>
							<td align="center">
								<a th:if="${annex.creator == user.name} and ${#strings.isEmpty(readonly)}" href="javascript:" th:onclick="'fnDeleteAnnex(this,\''+${annex.id}+'\')'">
									<span class="glyphicon glyphicon-remove" aria-hidden="true" style="color: red;" title="删除"></span>
								</a>
							</td>
						</tr>
				   	</tbody>
				 </table>
			</div>
			
		</div>
	</div>
	
	<!-- 上传附件窗口 -->
	<div class="modal fade modal-info" id="upload_annex_win" role="dialog" data-backdrop="false" aria-hidden="true">
		<div class="modal-dialog" style="width:900px;">
	      	<div class="modal-content" style="background-color:rgba(255, 255, 255, 0);">
		        <div class="modal-header" style="padding:5px;">
		          	<button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top:0;">
		            	<span aria-hidden="true">&times;</span>
		            </button>
		            <button type="button" class="close" style="margin-right:5px;margin-top: -1px;" onclick="fnMaxModalWin2(this)">
		            	<i class="fa fa-square-o" style="font-size:16px;"></i>
		            </button>
		          	<h4 class="modal-title" style="text-align:center;"></h4>
		        </div>
		        <div class="modal-body" style="height: 450px;padding:0px;background-color: rgba(3, 51, 101, 0.9) !important;">
		          	<iframe id="annexFrame" name="annexFrame" style="width: 100%;height:100%;border:0;"></iframe>
		        </div>
	      	</div>
		</div>
	</div>
	
	<!-- 通用查看图片窗口 -->
	<div class="modal fade" id="common_viewimg_win" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" aria-hidden="true">
		<div class="modal-dialog" style="width:800px;">
			<div class="modal-content">
				<div class="modal-header" style="padding:10px;">
				 	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title">图片查看</h4>
				</div>
				<div class="modal-body" style="overflow: hidden; padding: 10px;">
					
				</div>
			</div>
		</div>
	</div>

</div>

</body>
<!-- jQuery 2.2.3 -->
<script th:src="@{/static/plugins/jQuery/jquery-2.2.3.min.js}"></script>
<!-- Bootstrap 3.3.7 -->
<script th:src="@{/static/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/static/js/common.js}"></script>
<script th:src="@{/static/plugins/bootstrap-validator/js/bootstrapValidator.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap-table/dist/bootstrap-table.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.min.js}"></script>
<script th:src="@{/static/plugins/jQuery/jquery.serializejson.min.js}"></script>
<script th:src="@{/static/plugins/datepicker/bootstrap-datepicker.js}"></script>
<script th:src="@{/static/plugins/datepicker/locales/bootstrap-datepicker.zh-CN.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-toggle/bootstrap-toggle.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap-table/dist/extensions/export/bootstrap-table-export.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-treeview/bootstrap-treeview.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-contextmenu/bootstrap-contextmenu.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap-contextmenu/prettify.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/attention/zDialog/zDrag.js}"></script>
<!-- Slimscroll -->
<script type="text/javascript" th:src="@{/static/plugins/slimScroll/jquery.slimscroll.min.js}"></script>
<script type="text/javascript" th:src="@{/static/dist/js/app.min.js}"></script>
<script type="text/javascript" th:src="@{/static/js/common.js}"></script>
<script th:inline="javascript" type="text/javascript">
/*<![CDATA[*/
	//var CTX = [[@{/}]];
	var STATIC = [[@{/static/}]];
	var CTX = $("#CTX").val() + "/";
	
	$(function () {
	    //初始化Button的点击事件
	    var oButtonInit = new ButtonInit();
	    oButtonInit.Init();
	    
	    $('.datepicker').datepicker({
	    	format:'yyyy-mm-dd',
	    	language:'zh-CN',
	      	autoclose: true
	    });
	    
	  	//加载指标完成情况
	    loadCompletion();
	    
	});
	
	//加载经营指标完成情况
	function loadCompletion(){
		loading('加载中...');
		var reportId = $('#myform_report').find("input[name='id']").val();
		var indicatorType = $("#indicatorType").val();
		var r = Math.random().toString().substring(5);
        $.ajax({
            url: CTX + 'indicator-completion/query-completion-list?Mathnum=' + r,
            method: 'GET',
            dataType: 'json',
            data: {reportId:reportId,opt:'audit',indicatorType:indicatorType},
            success: function (json) {
            	paintCompList_body(json);
            },
            error: function () {
                loaded();
                alert('请求超时或系统出错');
            }
        });
	}
	
	
	//初始化按钮
	var ButtonInit = function () {
	    var oInit = new Object();
	    var postdata = {};

	    oInit.Init = function () {
	        //初始化页面上面的按钮事件
	    };

	    return oInit;
	};
	
	//上传附件
	function fnUploadAnnex(folderId,folderName){
		//调用附件管理页面
		openUploadAnnexWin({
			folderId:folderId,
			folderName:folderName/* ,
			annexIds:annexIdStr */
		},function(data){
			//附件管理回调
			if(data.length>0){
				var tbody = document.getElementById("annexList_body");
				var allRows = tbody.getElementsByTagName('tr');
				
				if(allRows != null && allRows.length > 0){
					var tds = allRows[0].getElementsByTagName('td');
					if(tds.length == 1){//原本无附件
						var children = tbody.childNodes;
						for(var i = children.length -1; i >= 0; i--){
							tbody.removeChild(children[i]);
						}
					}
				}
				
				var index = allRows == null ? 1 : allRows.length + 1;
				$.each(data,function(i,annex){
					addAnnexRow(index,annex);
					index++;
				});
			}
			//单独保存附件字段
			fnSaveReportAnnexes();
		});
	}
	
	//附件上传成功，表格添加行数据
	function addAnnexRow(index,annex){
		var tBody = document.getElementById("annexList_body");
		var allRows = tBody.getElementsByTagName('tr');
		var newRow = tBody.insertRow();
	    var newCell0 = newRow.insertCell();
	    var newCell1 = newRow.insertCell();
	    var newCell2 = newRow.insertCell();
	    var newCell3 = newRow.insertCell();
	    var newCell4 = newRow.insertCell();
	    
	    newCell0.innerHTML = "<input hidden=\"hidden\" name=\"fieldIds\" value=\"" + annex.id+ "\"/>" + "<span>"+index+"</span>";
	    newCell1.innerHTML = "<a href=\"javascript:\" onclick=\"openCommonViewImgWin(\'"+annex.id+"\')\">"+
	    	annex.name + "." + annex.extendName +"</a>";
	    newCell2.innerHTML = annex.creator;
	    newCell3.innerHTML = formatDate(annex.uploadTime);
	    newCell4.innerHTML = "<a href=\"javascript:\" onclick=\"fnDeleteAnnex(this,\'"+ annex.id +"\')\">"
	    				+ "<span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\" style=\"color: red;\" title=\"删除\"></span>"
	    				+ "</a>";
		
	}
	
	function formatDate(time){
	    var date = new Date(time);

	    var year = date.getFullYear(),
	        month = date.getMonth()+1,//月份是从0开始的
	        day = date.getDate(),
	        hour = date.getHours(),
	        min = date.getMinutes(),
	        sec = date.getSeconds();
	    var preArr = Array.apply(null,Array(10)).map(function(elem, index) {
	        return '0'+index;
	    });////开个长度为10的数组 格式为 00 01 02 03

	    var newTime = year + '-' +
	                (preArr[month]||month) + '-' +
	                (preArr[day]||day) + ' ' +
	                (preArr[hour]||hour) + ':' +
	                (preArr[min]||min) + ':' +
	                (preArr[sec]||sec);

	    return newTime;         
	}
	
	//获得所有附件的id
	function getAllAnnexId(){
		var annexIdStr = "";
		var fieldIds = document.getElementsByName("fieldIds");
		if(fieldIds.length>0){
			for(var i=0,len=fieldIds.length; i<len; i++){
				annexIdStr += ',' + fieldIds[i].value;
			}
			annexIdStr = annexIdStr.substring(1);
		}
		return annexIdStr;
	}
	
	//批量删除
	function fnDeleteAllAnnex(){
		var annexIdStr = getAllAnnexId();
		if(annexIdStr.length > 0){
			//发送请求
			fnSendDelAnnex(annexIdStr)
			var tbody = document.getElementById("annexList_body");
			var children = tbody.childNodes;
			for(var i = children.length -1; i >= 0; i--){
				tbody.removeChild(children[i]);
			}
		}
	}
	
	//删除附件
	function fnDeleteAnnex(obj,id){
		fnSendDelAnnex(id);
		var index = obj.parentNode.parentNode.rowIndex;
		//console.log("删除附件：" + id);
		document.getElementById("annexList").deleteRow(index);
		
		//重新排序
		var tBody = document.getElementById("annexList_body");
		var allRows = tBody.getElementsByTagName('tr');
		for(var i=0;i<allRows.length;i++){
			var firstCell = allRows[i].getElementsByTagName('td')[0];
			var span = firstCell.getElementsByTagName('span')[0];
			span.innerHTML = i+1;
		}
	}
	
	//发送删除附件的请求
	function fnSendDelAnnex(annexId){
		$.ajax({
			url: CTX+"annex/delete-annex",
			type: "POST",
			data: {key: annexId},
			dataType: 'json',
			success: function(data){
				if(data.success){
					return true;
				}
			}
		});
	}
	
	//关闭
	function fnCloseWin(isSubmit,flag){
		var autoClose = $("#autoClose").val();
    	if(autoClose == '1' && isSubmit){
			window.parent.closeCommonFrameWin(flag);
    	}else if(autoClose != '1' && isSubmit){
    		closeWebPage();
    	}
	}
	
	//打印
	function fnPrint(){
		fnSaveIndicCompletion();
		
		var p_html = $("#print_div").html();
		var newWin = window.open('', '_blank', ''); //在当前页打开新的窗口
		var tbStyle = 'table,table tr th, table tr td { border:1px solid #000; }table {border-collapse: collapse; padding:2px;}'
		var inputStyle = "input{border: none;text-align: center;background-color: #fff;}";
		newWin.document.write("<head><style>#print-content{font-size:14px}"+tbStyle+inputStyle+"</style></head>"); //向新窗口添加css样式
		newWin.document.write(p_html);
		newWin.print();
		var userAgent = navigator.userAgent;
		if (userAgent.indexOf("Chrome") != -1) {
			newWin.close();
		} else {
			if (tata = newWin.document.execCommand("print")) {
				newWin.close();
			}
		}
		//newWin.location.reload(); //重新加载使窗口恢复到打印前状态l
	}
	
	//导出
	function fnExport(){
		var indicatorType = $("#indicatorType").val();
		if(indicatorType=='投资类'){
			indicatorType = "1";
		}else if(indicatorType=='收入类'){
			indicatorType = "2";
		}
		location.replace(CTX+"business-report/export-excel?"+$('#myform_report').serialize() + "&version=1&indicatorType="+indicatorType);
	}
	
	//保存经营指标完成情况
	function fnSaveIndicCompletion(){
		var saveNext = true;
		var compForms = document.getElementsByClassName("compForm");
		var params = "";
		for(var j = 0,len = compForms.length; j < len; j++){
			var compForm = compForms[j];
		    //console.log($(compForm).serialize());
		    if(saveNext){
		    	$.ajax({
					url: CTX+'indicator-completion/save-indicator-completion',
					type: 'post',
					dataType: 'json',
					data: $(compForm).serialize(),
					timeout: 20000,
					async: false,
					success: function(json){
						if(json.success){
						}
					},
					error: function(){
						saveNext = false;
						alert('请求超时或系统出错!');
						loaded();
					}
				});
		    }else{
		    	break;
		    }
		}
		return saveNext;
	}
	
	//保存快报
	function fnSaveReport(){
		var url_ = CTX+'business-report/save-audit';//提交，修改快报完成状态
		$.ajax({  
			url: url_,
            type: 'POST',  
            data:$('#myform_report').serialize(),// 序列化表单值  
            dataType: 'json',//服务端接收的数据类型
            async: false,
            success:function(json) {  
				if(json.success){
	            	loaded();
	            	alert("提交成功！");
	            	var autoClose = $("#autoClose").val();
	            	fnCloseWin(true,true);
				}
            },  
            error:function(json) {  
            	alert('请求超时或系统出错!');
				loaded();
            }  
        });  
	}
	
	//关闭当前页面
	function closeWebPage(){
		var userAgent = navigator.userAgent;
		if (userAgent.indexOf("Firefox") != -1
				|| userAgent.indexOf("Chrome") != -1) {
			window.location.href = "about:blank";
		} else {
			window.opener = null;
			window.open("", "_self");
			window.close();
		}
	}
	
	//保存附件id
	function fnSaveReportAnnexes(){
		var annexIdStr = getAllAnnexId();
    	if(annexIdStr!=null && annexIdStr != ""){
    		$("input[name='annexIds']").val(annexIdStr);
    		var reportId = $('#myform_report').find("input[name='id']").val();
    		if(reportId!=''){
    			var annexIds = $('#myform_report').find("input[name='annexIds']").val();
    			$.ajax({
    				url: CTX+'business-report/save-business-report-annexes',
    				type: 'post',
    				dataType: 'json',
    				data: {reportId:reportId,annexIds:annexIds},
    				timeout: 10000,
    				success: function(json){
    					if(json.success){}
    				},
    				error: function(){
    					alert('请求超时或系统出错!');
    				}
    			});
    		}
    	}
	}
	
  	//保存、提交
    function fnSubmitReport(){
  		var contractAudit = $("#contractAudit").val();
    	$("input[name='contractAudit']").val(contractAudit);
    	
    	var financeAudit = $("#financeAudit").val();
    	$("input[name='financeAudit']").val(financeAudit);
  		
    	var annexIdStr = getAllAnnexId();
    	if(annexIdStr!=null && annexIdStr != ""){
    		$("input[name='annexIds']").val(annexIdStr);
        	loading('正在保存,请稍后...');
        	
        	setTimeout(function(){
        		//保存经营指标完成情况
        		var saveReport = fnSaveIndicCompletion();
        		
            	if(saveReport){
            		fnSaveReport();
        		};
        	},500);
    	}else{
    		alert("请上传相关附件！");
    	}
    	
    }
		
	/*]]>*/
</script>
<script type="text/javascript" th:src="@{/static/modules/businessplan/businessplan-uploadfile.js}"></script>
<script type="text/javascript" th:src="@{/static/modules/businessplan/business-report-audit.js}"></script>
</html>
